<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutor√≠as Universitarias</title>
</head>
<body>
    <h1 tabindex="0">Tutor√≠as üìö</h1>
    <div class="platform-container">
        <!-- Contenido principal -->
        <div class="post-feed-container">
            <div class="header">
                <div class="search-bar">
                    <span tabindex="0" aria-label="Buscar">üîç</span>
                    <input type="text" placeholder="Buscar tutor√≠as..." (input)="buscarTutorias($event)"
                           tabindex="0" aria-label="Buscar tutor√≠as">
                </div>
                
                <div class="header-actions">
                    <span class="header-icon" tabindex="0" aria-label="Mensajes, 3 no le√≠dos">üí¨ <span class="badge">3</span></span>
                    <span class="header-icon" tabindex="0" aria-label="Notificaciones, 7 no le√≠das">üîî <span class="badge">7</span></span>
                    <a href="https://m365.cloud.microsoft/chat" target="_blank" tabindex="0" aria-label="Chat Microsoft 365">
                        <span class="header-icon">üì©</span>
                    </a>
                </div>
            </div>
            
            <div class="post-feed">
                @if (isAdmin) {
                <!-- Bot√≥n para crear nueva tutor√≠a -->
                <div class="create-post">
                    <img src="https://pbs.twimg.com/profile_images/1881177470616907776/e2WyqeAN_400x400.jpg" 
                         alt="Foto de perfil del usuario" class="post-avatar" tabindex="0">
                    <input type="text" class="post-input" placeholder="Crear nueva tutor√≠a" 
                           routerLink="/tutoria-form" readonly tabindex="0" aria-label="Crear nueva tutor√≠a">
                </div>
                }
                
                <!-- Lista din√°mica de tutor√≠as -->
                @for (tutoria of tutoriasFiltradas; track tutoria.uuid) {
                <div class="post" tabindex="0">
                    <div class="post-header">
                        <img src="https://pbs.twimg.com/profile_images/1881177470616907776/e2WyqeAN_400x400.jpg" 
                             alt="Foto de perfil de {{ tutoria.nombre }}" class="post-avatar" tabindex="0">
                        <div>
                            <div class="post-user" tabindex="0">{{ tutoria.nombre }}</div>
                            <div class="post-meta" tabindex="0">{{ formatDate(tutoria.fechaHora) }} | {{ tutoria.carrera }}</div>
                        </div>
                    </div>
                    
                    <div class="post-content">
                        <h3 tabindex="0">{{ tutoria.titulo }}</h3>
                        <div class="tutoria-detalles">
                            <p tabindex="0"><strong>Lugar:</strong> {{ tutoria.lugar }}</p>
                            <p tabindex="0"><strong>Horarios:</strong> {{ tutoria.horarios }}</p>
                        </div>
                        <p tabindex="0">{{ tutoria.cuerpo }}</p>
                    </div>
                    
                    @if (isAdmin) {
                    <!-- Botones de acciones -->
                    <div class="post-actions">
                        <button (click)="eliminarTutoria(tutoria.uuid)" class="delete-btn" 
                                tabindex="0" aria-label="Eliminar tutor√≠a">
                            üóëÔ∏è Eliminar
                        </button>
                        <button (click)="editarTutoria(tutoria)" class="edit-btn" 
                                tabindex="0" aria-label="Editar tutor√≠a">
                            ‚úèÔ∏è Editar
                        </button>
                    </div>
                    }  
                </div>
                } @empty {
                <div class="post" tabindex="0">
                    <p tabindex="0">No hay tutor√≠as programadas a√∫n.</p>
                </div>
                }
            </div>
        </div>
    </div>
    <footer>
        <p tabindex="0">&copy; 2025 Portal Universitario CEUTEC - Todos los derechos reservados.</p>
        <div class="social-links">
            <!-- Puedes agregar √≠conos sociales aqu√≠ si lo deseas -->
        </div>
    </footer>
</body>
</html>