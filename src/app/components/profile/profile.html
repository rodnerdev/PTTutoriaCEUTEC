<div class="perfil-container">
  <!-- Header -->
  <div class="perfil-header" tabindex="0">
    <div class="header-content">
      <h1 tabindex="0"> Mi Perfil</h1>
      <p tabindex="0">Informaci贸n de tu cuenta universitaria</p>
    </div>
    <div class="imagenHome">
      <img src="https://www.unitec.edu/assets/img/howie-pc.png?ver=1.0.1" 
           alt="Ilustraci贸n de estudiante universitario" 
           tabindex="0">
    </div>
  </div>

  <!-- Loading -->
  @if (loading) {
  <div class="loading-state" tabindex="0" aria-label="Cargando informaci贸n del perfil">
    <div class="spinner-container">
      <div class="spinner" aria-hidden="true"></div>
      <p tabindex="0">Cargando informaci贸n del perfil...</p>
    </div>
  </div>
  }

  <!-- Datos del usuario -->
  @if (userData && !loading) {
  <div class="perfil-content">
    
    <!-- Tarjeta principal -->
    <div class="profile-card" tabindex="0">
      
      <!-- Secci贸n de avatar -->
      <div class="avatar-section">
        
        <div class="user-info-main">
          <h2 class="user-name" tabindex="0">{{ getNombreCompleto() }}</h2>
          <p class="user-email" tabindex="0">{{ userData.email }}</p>
          @if (tieneValor('rol')) {
          <div class="role-badge badge-{{ userData.rol?.toLowerCase() }}" tabindex="0">
            {{ userData.rol }}
          </div>
          }
        </div>
      </div>

      <!-- Grid de informaci贸n -->
      <div class="info-grid">
        
        <!-- Columna 1 - Informaci贸n acad茅mica -->
        <div class="info-column" tabindex="0">
          <div class="column-header">
            <span class="column-icon" aria-hidden="true"></span>
            <h3 tabindex="0">Informaci贸n Acad茅mica</h3>
          </div>
          
          @if (tieneValor('universidad')) {
          <div class="info-item" tabindex="0">
            <div class="item-icon" aria-hidden="true"></div>
            <div class="item-content">
              <span class="item-label" tabindex="0">Universidad</span>
              <span class="item-value" tabindex="0">{{ userData.universidad }}</span>
            </div>
          </div>
          }

          @if (tieneValor('carrera')) {
          <div class="info-item" tabindex="0">
            <div class="item-icon" aria-hidden="true"></div>
            <div class="item-content">
              <span class="item-label" tabindex="0">Carrera</span>
              <span class="item-value" tabindex="0">{{ userData.carrera }}</span>
            </div>
          </div>
          }
        </div>

        <!-- Columna 2 - Informaci贸n personal -->
        <div class="info-column" tabindex="0">
          <div class="column-header">
            <span class="column-icon" aria-hidden="true"></span>
            <h3 tabindex="0">Informaci贸n Personal</h3>
          </div>
          
          @if (tieneValor('ciudad')) {
          <div class="info-item" tabindex="0">
            <div class="item-icon" aria-hidden="true"></div>
            <div class="item-content">
              <span class="item-label" tabindex="0">Ciudad</span>
              <span class="item-value" tabindex="0">{{ userData.ciudad }}</span>
            </div>
          </div>
          }

          <div class="info-item" tabindex="0">
            <div class="item-icon" aria-hidden="true"></div>
            <div class="item-content">
              <span class="item-label" tabindex="0">Email</span>
              <span class="item-value" tabindex="0">{{ userData.email }}</span>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
  }

  <!-- Sin datos -->
  @if (!userData && !loading) {
  <div class="no-data-state" tabindex="0">
    <div class="no-data-content">
      <span class="no-data-icon" aria-hidden="true"></span>
      <h3 tabindex="0">No se encontraron datos</h3>
      <p tabindex="0">No hay informaci贸n de perfil disponible</p>
    </div>
  </div>
  }
</div>